# Моделирование системы управления библиотеĸой
## Лабораторная работа №4.
**Иванющенко Эрик Александрович. М8О-104БВ-25**

---
## Начало работы
```bash
uv vevn
uv sync
source .venv/bin/activate
# для Windows: .venv\Scripts\activate
```

## Запуск
```bash
python -m src.main
```

## Просмотр симуляции
1) Ввести seed или нажать ENTER для случайного
2) Ввести кол-во шагов или нажать ENTER для 20 раз
3) Нажимать ENTER для выдачи следующих шагов
4) В конце будет выведена небольшая статистика

---
## Реализованные классы
### Book
Хранит данные о книге.

Имеет методы:
- ```_get_temp_str``` и ```hash```
- ```__eq__``` и ```__ne__``` для сравнений
- ```__str__``` и ```__repr__``` для отображения

### BookCollection
Хранит Book в списке

Имеет методы:
- ```__str__``` для отображения
- ```__contains__```
- ```new_collection_from_list``` для создания новой коллекци из list
- ```__getitem__``` для получения элементов
- ```__iter__``` возвращает иттератор по объекту
- ```__len__``` возвращает длину
- ```count``` считает кол-во книги в коллекции
- ```append``` и ```extend``` добавляют книгу или несколько
- ```remove``` удаляет книги

### BookCollectionUnique
Наследуется от BookCollection. Хранит только уникальные книги

### IndexDict
Хранит пары "ключ любого типа": BookCollectionUnique

Имеет методы:
- ```__str__``` и ```__repr__``` для отображения
- ```__iter__``` для иттерирования по ключам
- ```__len__``` для отображения кол-ва ключей
- ```__getitem__``` получение BookCollectionUnique по ключу
- ```__setitem__``` создаение BookCollectionUnique по ключу с книгами из item
- ```keys```, ```values```, ```items``` аналогично методам стандартного dict
- ```remove_book``` удаляет книгу из BookCollectionUnique по ключу
- ```clear``` полная очистка

### IsbnIndexDict, AuthorIndexDict, YearIndexDict
Наследуются от IndexDict
Используют как ключ ISBN, Author, Year соответсвенно


### Library
Содержит коллекции:
- book_collection_available = BookCollection()
- book_collection_on_hand = BookCollection()
- isbn_dict = IsbnIndexDict()
- author_dict = AuthorIndexDict()
- year_dict = YearIndexDict()

Содержит методы для добавления/удаления книг во все свои коллекциию

---
## Функция симуляции run_simulation
Устанавливает переданный ей сид
Создаёт набор книг в библиотеке
Выполняет случайные ивенты заданное кол-во раз

## Ивенты
- Добавление новой ĸниги
- Удаление случайной ĸниги
- Выдача книги без поиска
    - Случайно определяется существует ли книга которую хочет взять пользователь
- Поиск + выдача книги
    - Случайно определяются критерии поиска
- Возврат книги
    - Случайно определяется существует ли книга которую хочет вернуть пользователь
